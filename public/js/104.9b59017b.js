"use strict";(self["webpackChunkvue3_book_oneline"]=self["webpackChunkvue3_book_oneline"]||[]).push([[104],{1104:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var n=a(3396),s=a(7139);const o=t=>((0,n.dD)("data-v-3a3bc044"),t=t(),(0,n.Cn)(),t),r={class:"list-container"},i={class:"inner"},d={class:"page-area"},l={class:"page-count"},u=(0,n.Uk)(" 총 "),p={class:"page-color"},c=(0,n.Uk)(" 건의 게시물이 있습니다. "),g={class:"list"},h=o((()=>(0,n._)("tr",null,[(0,n._)("th",null,"번호"),(0,n._)("th",{width:"150px"}," 제목 "),(0,n._)("th",null,"작성자"),(0,n._)("th",null,"등록일")],-1)));function b(t,e,a,o,b,_){const B=(0,n.up)("BoardItem"),v=(0,n.up)("BoardPageButton");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",i,[(0,n._)("div",d,[(0,n._)("span",l,[u,(0,n._)("span",p,(0,s.zw)(t.pageInfo.totalPostCount),1),c]),(0,n._)("button",{class:"btn btn--black",onClick:e[0]||(e[0]=t=>_.addBoard())}," 등록 ")]),(0,n._)("div",g,[(0,n._)("table",null,[h,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.posts,(t=>((0,n.wg)(),(0,n.j4)(B,{key:t.board_no,post:t},null,8,["post"])))),128))])]),(0,n.Wm)(v,{onChild:_.getPosts},null,8,["onChild"])])])}a(7658);const _={class:"table-container"};function B(t,e,a,o,r,i){const d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("tr",null,[(0,n._)("td",null,(0,s.zw)(a.post.board_no),1),(0,n._)("td",null,[(0,n.Wm)(d,{to:{name:"BoardDetail",params:{id:`${a.post.board_no}`}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(a.post.board_title),1)])),_:1},8,["to"])]),(0,n._)("td",null,(0,s.zw)(a.post.users_user_id),1),(0,n._)("td",null,(0,s.zw)(a.post.createdAt),1)])])}var v={name:"BoardItem",props:{post:{type:Object,default:()=>{}}}},m=a(89);const w=(0,m.Z)(v,[["render",B],["__scopeId","data-v-29bd1dd2"]]);var k=w;const P={class:"btn-container"},z=["disabled"],f={key:1};function y(t,e,a,o,r,i){return(0,n.wg)(),(0,n.iD)("div",P,[(0,n._)("button",{type:"button",class:"btn btn-prev",disabled:i.pageStop,onClick:e[0]||(e[0]=t=>i.prevBtn())}," Prev ",8,z),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.totalPage,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("button",{type:"button",class:"btn btn-page",onClick:e[1]||(e[1]=(...t)=>i.pageBtn&&i.pageBtn(...t))},[i.currentPage==t?((0,n.wg)(),(0,n.iD)("span",{key:0,class:(0,s.C_)(r.isActive)},(0,s.zw)(t),3)):((0,n.wg)(),(0,n.iD)("span",f,(0,s.zw)(t),1))])])))),128)),(0,n._)("button",{type:"button",class:"btn btn-next",onClick:e[2]||(e[2]=t=>i.nextBtn())}," Next ")])}var C=a(65),S={name:"BoardPageButton",emits:{child:null},data(){return{pageSize:10,limit:0,isActive:"change"}},computed:{...(0,C.Se)("board",["totalPage"]),pageStop(){return 1==this.limit},currentPage(){return parseInt(this.$route.query.currentpage)}},methods:{pageBtn(t){const e=parseInt(t.target.textContent),a={currentPage:e,pageSize:this.pageSize};this.$emit("child",a),this.$router.push({name:"BoardList",query:{currentpage:e,pagesize:10}})},prevBtn(){let t=this.currentPage;t>1?t-=1:(t=1,this.limit=1);const e={currentPage:t,pageSize:this.pagesize};this.$store.dispatch("board/getBoardList",e),this.$router.push({name:"BoardList",query:{currentpage:t,pageSize:10}})},nextBtn(){this.limit=0;let t=this.currentPage;t>=this.totalPage?t=this.totalPage:t+=1;const e={currentPage:t,pageSize:this.pageSize};this.$store.dispatch("board/getBoardList",e),this.$router.push({name:"BoardList",query:{currentpage:t,pagesize:this.pageSize}})}}};const D=(0,m.Z)(S,[["render",y],["__scopeId","data-v-209ef8ba"]]);var I=D,$={name:"BoardList",components:{BoardItem:k,BoardPageButton:I},computed:{...(0,C.rn)("board",["posts"]),...(0,C.rn)("board",["pageInfo"])},created(){this.getPosts()},methods:{getPosts(t){this.$store.dispatch("board/getBoardList",t)},addBoard(){this.$router.push("board/write")}}};const L=(0,m.Z)($,[["render",b],["__scopeId","data-v-3a3bc044"]]);var x=L}}]);