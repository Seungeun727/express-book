"use strict";(self["webpackChunkvue3_book_oneline"]=self["webpackChunkvue3_book_oneline"]||[]).push([[421],{1421:function(t,e,a){a.r(e),a.d(e,{default:function(){return $}});var n=a(3396),o=a(7139);const s=t=>((0,n.dD)("data-v-79ff9cdb"),t=t(),(0,n.Cn)(),t),r={class:"list-container"},l={class:"inner"},c={class:"page-area"},i={class:"page-count"},u=(0,n.Uk)(" 총 "),d={class:"page-color"},p=(0,n.Uk)(" 건의 게시물이 있습니다. "),g={class:"list"},b=s((()=>(0,n._)("tr",null,[(0,n._)("th",null,"번호"),(0,n._)("th",{width:"150px"}," 제목 "),(0,n._)("th",null,"작성자"),(0,n._)("th",null,"등록일")],-1)));function _(t,e,a,s,_,v){const B=(0,n.up)("BoardItem"),P=(0,n.up)("BoardPageButton");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("span",i,[u,(0,n._)("span",d,(0,o.zw)(t.pageInfo.totalPostCount),1),p]),(0,n._)("button",{class:"btn btn--black",onClick:e[0]||(e[0]=t=>v.addBoard())}," 등록 ")]),(0,n._)("div",g,[(0,n._)("table",null,[b,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.posts,(t=>((0,n.wg)(),(0,n.j4)(B,{key:t.board_no,post:t},null,8,["post"])))),128))])]),(0,n.Wm)(P,{onChild:v.getPosts},null,8,["onChild"])])])}a(7658);const v={class:"table-container"};function B(t,e,a,s,r,l){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("tr",null,[(0,n._)("td",null,(0,o.zw)(a.post.board_no),1),(0,n._)("td",null,[(0,n.Wm)(c,{to:{name:"BoardDetail",params:{id:`${a.post.board_no}`}}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(a.post.board_title),1)])),_:1},8,["to"])]),(0,n._)("td",null,(0,o.zw)(a.post.users_user_id),1),(0,n._)("td",null,(0,o.zw)(a.post.createdAt),1)])])}var P={name:"BoardItem",props:{post:{type:Object,default:()=>{}}}},h=a(89);const k=(0,h.Z)(P,[["render",B],["__scopeId","data-v-dda3354e"]]);var f=k;const w=t=>((0,n.dD)("data-v-6c0794bb"),t=t(),(0,n.Cn)(),t),m={class:"btn-container"},z=w((()=>(0,n._)("i",{class:"fas fa-chevron-left"},null,-1))),y=[z],C=w((()=>(0,n._)("i",{class:"fas fa-chevron-right"},null,-1))),I=[C];function D(t,e,a,s,r,l){return(0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("button",{type:"button",class:"btn--page",onClick:e[0]||(e[0]=t=>s.prevPageButton())},y),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.state.totalPage,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t},[s.state.currentPage==t?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:(0,o.C_)(s.state.isActive),onClick:e[1]||(e[1]=(...t)=>s.clickPageButton&&s.clickPageButton(...t))},(0,o.zw)(t),3)):((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",onClick:e[2]||(e[2]=(...t)=>s.clickPageButton&&s.clickPageButton(...t))},(0,o.zw)(t),1))])))),128)),(0,n._)("button",{type:"button",class:"btn--page",onClick:e[3]||(e[3]=t=>s.nextPageButton())},I)])}var S=a(4870),q=a(65),L=a(2483),j={name:"BoardPageButton",emits:{child:null},setup(t,e){const a=(0,q.oR)(),o=(0,L.tv)(),s=(0,L.yj)(),r=(0,S.qj)({pageSize:10,limit:1,isActive:"change",totalPage:(0,n.Fl)((()=>a.getters["board/totalPage"])),currentPage:(0,n.Fl)((()=>parseInt(s.query.currentpage)))}),l=t=>{const a=parseInt(t.target.textContent),n={currentPage:a,pageSize:r.pageSize};e.emit("child",n),o.push({name:"BoardList",query:{currentpage:a,pagesize:r.pageSize}})},c=()=>{let t=parseInt(s.query.currentpage);t>1?t-=1:(t=1,r.limit=1);const e={currentPage:t,pageSize:r.pageSize};a.dispatch("board/getBoardList",e)},i=()=>{let t=parseInt(s.query.currentpage);t>=r.totalPage?t=r.totalPage:t+=1;const e={currentPage:t,pageSize:r.pageSize};a.dispatch("board/getBoardList",e)};return{state:r,clickPageButton:l,prevPageButton:c,nextPageButton:i}}};const x=(0,h.Z)(j,[["render",D],["__scopeId","data-v-6c0794bb"]]);var A=x,U={name:"BoardList",components:{BoardItem:f,BoardPageButton:A},computed:{...(0,q.rn)("board",["posts"]),...(0,q.rn)("board",["pageInfo"])},created(){this.getPosts()},methods:{getPosts(t){this.$store.dispatch("board/getBoardList",t)},addBoard(){this.$router.push("board/write")}}};const Z=(0,h.Z)(U,[["render",_],["__scopeId","data-v-79ff9cdb"]]);var $=Z}}]);